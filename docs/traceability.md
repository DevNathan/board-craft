# BoardCraft — MVP 범위 고정(Freeze) & 트레이스 매트릭스 v0.2

## 0) 식별자 규칙

- 요구사항: **REQ-###** (예: REQ-001)
- 유스케이스: **UC-#** (예: UC-1 게시글 등록)
- API 테스트: **T-API-###**
- 단위/통합 테스트: **T-UNIT-### / T-INT-###**
- 수용 기준: **AC-REQ-###-n** (요구사항별 일련번호)

---

## 1) Must-Have 요구사항 잠금(Freeze)

1. **REQ-001 인증/인가 – 회원가입·로그인 (이메일+비밀번호)**
2. **REQ-002 게시글 CRUD + Markdown + 카테고리(1) + 태그(N) + 첨부파일**
3. **REQ-003 댓글/대댓글(1-레벨)**
4. **REQ-004 목록 페이지네이션/정렬/키워드 검색(제목/본문/태그/작성자)**
5. **REQ-005 RBAC 역할( GUEST / USER / MOD / ADMIN )**
6. **REQ-006 소프트 삭제(복구 가능 보관함)**
7. **REQ-007 기본 모더레이션(신고/숨김/블럭)**
8. **REQ-008 관측성(구조적 로그, TraceId, 메트릭: 요청수/p95/에러율)**

---

## 2) 트레이스 매트릭스 (요구사항 ↔ 유스케이스 ↔ API ↔ 테스트)

| Req     | 관련 유스케이스  | 대표 API 엔드포인트(초안)                        | 연결된 테스트 아티팩트                                                                                                                                                         |
|---------|-----------|-----------------------------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| REQ-001 | UC-1 회원가입 | `POST /auth/signup`, `POST /auth/login` | **T-UNIT-001** 약관 미동의 예외<br>**T-UNIT-002** 이메일 중복 예외<br>**T-UNIT-003** 닉네임 중복 예외<br>**T-UNIT-004** 이메일 정규화<br>**T-UNIT-005** 정상 등록 플로우<br>**T-UNIT-006** null 이메일 처리 |

> 현재 REQ-001 관련 단위 테스트 6건만 작성됨.  
> REQ-002~008은 정의만 되어 있고 테스트 미작성 상태. 추후 작성 시 ID 부여 예정.

---

## 3) 수용 기준 (Acceptance Criteria)

### REQ-001 인증/인가 – 회원가입·로그인

- **AC-REQ-001-1**: `POST /auth/signup`에 유효 이메일/비밀번호/닉네임 제출 시 201 응답.
- **AC-REQ-001-2**: 이메일 또는 닉네임 중복 시 400 VALIDATION_ERROR + validation map 응답.
- **AC-REQ-001-3**: `POST /auth/login` 성공 시 세션 저장, 실패 시 401.
- **AC-REQ-001-4**: 비밀번호는 BCrypt로 저장, 평문 저장 금지(단위 테스트로 검증).

### REQ-002 게시글 CRUD + Markdown + Taxonomy + 첨부

(요구사항 고정, 추후 테스트 설계 필요)

### REQ-003 댓글/대댓글(1-레벨)

(요구사항 고정, 추후 테스트 설계 필요)

### REQ-004 목록 페이지네이션/정렬/검색

(요구사항 고정, 추후 테스트 설계 필요)

### REQ-005 RBAC 역할(권한 매트릭스)

(요구사항 고정, 추후 테스트 설계 필요)

### REQ-006 소프트 삭제(복구 가능)

(요구사항 고정, 추후 테스트 설계 필요)

### REQ-007 기본 모더레이션(신고/숨김/블럭)

(요구사항 고정, 추후 테스트 설계 필요)

### REQ-008 관측성(로그/Trace/메트릭)

(요구사항 고정, 추후 테스트 설계 필요)

---
@startuml
title UC-02 게시글 상세 보기 (슬러그 라우팅)

actor 사용자 as User
participant "웹/앱 클라이언트" as Client
participant "BoardCraft API" as API
participant "PostService" as Service
database "DB(Post, Comment, Reaction)" as DB

User -> Client : /posts/{slug} 페이지 접속
Client -> API : GET /api/v1/posts/{slug}

API -> Service : findPostBySlug(slug, user)
Service -> DB : 게시글 조회 by slug
DB --> Service : 게시글 or 없음

alt 게시글 존재
    Service -> DB : 태그/카테고리/작성자 메타데이터 조회
    Service -> DB : 댓글 목록 조회 (작성순)
    Service -> DB : 조회수 증가 처리
    Service --> API : PostDTO + 메타 + 리액션 + 댓글
    API --> Client : 200 OK + JSON
    Client -> User : 상세 화면 렌더링
else 게시글 없음/권한 없음
    Service --> API : NotFound / Forbidden
    API --> Client : 404 / 403
    Client -> User : 에러 페이지
end
@enduml
